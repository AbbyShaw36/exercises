<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<title>星星打分</title>
	<meta charset="utf-8">
	<style type="text/css">
		#markWrapper span { display: inline-block; width: 30px; height: 30px; background: url(star.png) right center; }
	</style>
</head>
<body>
	<p id="markWrapper"></p>
	<script type="text/javascript">
		window.onload = function() {
			var oMark = document.getElementById('markWrapper');

			(function createStar() {
				var oFragment = document.createDocumentFragment();
				for (var i = 0; i < 5; i++) {
					var oSpan = document.createElement('span');
					oSpan.index = i;
					oFragment.appendChild(oSpan);
				};
				oMark.appendChild(oFragment);
			})();

			oMark.onmouseover = function(ev) {
				var oTarget = window.event ? event.srcElement : ev.target;
				if (oTarget.index+1) {
					var index = oTarget.index;
					var aSpan = oMark.getElementsByTagName('span');

					for (var i = 0; i <= index; i++) {
						aSpan[i].style.backgroundPosition = "left center";
					};

					oMark.onmouseout = function() {
						for (var i = 0; i < aSpan.length; i++) {
							aSpan[i].style.backgroundPosition = "right center";
						};
					}

					oMark.onclick = function() {
						this.onmouseout = null;
						alert("得分：" + (index + 1) + "分");
					}
				};
			}
		}
	</script>
</body>
</html>